<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Person Shooter - Enemy Types and Abilities</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #111;
            overflow: hidden;
            font-family: Arial, sans-serif;
        }

        canvas {
            display: block;
            margin: 0 auto;
        }

        #ui {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 1.5rem;
            text-align: center;
            z-index: 1000;
        }

        #start-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            text-align: center;
        }

        .button {
            background-color: #6c63ff;
            color: white;
            font-size: 1rem;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }

        .button:hover {
            background-color: #3f3d56;
        }

        #shop-ui {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #222;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            color: white;
        }

        .shop-item {
            margin: 10px 0;
            padding: 10px;
            background-color: #444;
            border-radius: 5px;
        }

        .shop-item button {
            background-color: #6c63ff;
            color: white;
            font-size: 1rem;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .shop-item button:hover {
            background-color: #3f3d56;
        }
    </style>
</head>
<body>
    <div id="start-screen">
        <h1>First Person Shooter</h1>
        <p>Created by Omair</p>
        <button class="button" onclick="startGame()">Start Game</button>
    </div>

    <div id="ui" style="display: none;">
        <div id="score-ui">Score: <span id="score">0</span></div>
        <div id="health-ui">Health: <span id="health">100</span></div>
        <div id="armor-ui">Armor: <span id="armor">0</span></div>
        <div id="shield-ui">Shield: <span id="shield">0</span></div>
        <button class="button" id="openShopButton">Open Shop</button>
    </div>

    <div id="shop-ui">
        <h2>Shop</h2>
        <div class="shop-item" data-cost="10" data-gun="laser">
            <span>Laser Gun - 10 Points</span>
            <button onclick="buyWeapon(this)">Buy</button>
        </div>
        <div class="shop-item" data-cost="20" data-gun="rocket">
            <span>Rocket Launcher - 20 Points</span>
            <button onclick="buyWeapon(this)">Buy</button>
        </div>
        <div class="shop-item" data-cost="15" data-gun="shotgun">
            <span>Shotgun - 15 Points</span>
            <button onclick="buyWeapon(this)">Buy</button>
        </div>
        <div class="shop-item" data-cost="10" data-upgrade="armor">
            <span>Armor Upgrade - 10 Points</span>
            <button onclick="buyUpgrade(this)">Buy</button>
        </div>
        <div class="shop-item" data-cost="15" data-upgrade="shield">
            <span>Shield Upgrade - 15 Points</span>
            <button onclick="buyUpgrade(this)">Buy</button>
        </div>
        <button class="button" onclick="closeShop()">Close Shop</button>
    </div>

    <canvas id="fpsCanvas" style="display: none;"></canvas>

    <script>
        const canvas = document.getElementById('fpsCanvas');
        const ctx = canvas.getContext('2d');
        const scoreDisplay = document.getElementById('score');
        const healthDisplay = document.getElementById('health');
        const armorDisplay = document.getElementById('armor');
        const shieldDisplay = document.getElementById('shield');
        const openShopButton = document.getElementById('openShopButton');
        const shopUI = document.getElementById('shop-ui');
        const ui = document.getElementById('ui');
        const startScreen = document.getElementById('start-screen');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let player = {
            x: canvas.width / 2,
            y: canvas.height - 50,
            width: 20,
            height: 20,
            color: 'blue',
            speed: 5,
            weapon: 'default',
            health: 100,
            armor: 0,
            shield: 0
        };

        let bullets = [];
        let enemies = [];
        let score = 0;
        let gameInterval;

        const enemyTypes = [
            {
                type: 'normal',
                color: 'red',
                speed: 2,
                width: 20,
                height: 20,
                damage: 10
            },
            {
                type: 'fast',
                color: 'orange',
                speed: 4,
                width: 15,
                height: 15,
                damage: 5
            },
            {
                type: 'tank',
                color: 'darkgreen',
                speed: 1,
                width: 30,
                height: 30,
                damage: 20,
                health: 50
            },
            {
                type: 'boss',
                color: 'purple',
                speed: 1,
                width: 50,
                height: 50,
                damage: 30,
                health: 100
            }
        ];

        function drawPlayer() {
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);
        }

        function openShop() {
            shopUI.style.display = 'block';
        }

        function closeShop() {
            shopUI.style.display = 'none';
        }

        function buyWeapon(button) {
            const item = button.parentElement;
            const cost = parseInt(item.getAttribute('data-cost'));
            const gun = item.getAttribute('data-gun');

            if (score >= cost) {
                score -= cost;
                scoreDisplay.textContent = score;
                player.weapon = gun;
                alert(`Purchased ${gun.charAt(0).toUpperCase() + gun.slice(1)}!`);
            } else {
                alert('Not enough points!');
            }
        }

        function buyUpgrade(button) {
            const item = button.parentElement;
            const cost = parseInt(item.getAttribute('data-cost'));
            const upgrade = item.getAttribute('data-upgrade');

            if (score >= cost) {
                score -= cost;
                scoreDisplay.textContent = score;

                if (upgrade === 'armor') {
                    player.armor += 20;
                    armorDisplay.textContent = player.armor;
                    alert('Armor upgraded by 20!');
                } else if (upgrade === 'shield') {
                    player.shield += 30;
                    shieldDisplay.textContent = player.shield;
                    alert('Shield upgraded by 30!');
                }
            } else {
                alert('Not enough points!');
            }
        }

        function drawBullets() {
            bullets.forEach((bullet, index) => {
                bullet.y -= bullet.speed;
                ctx.fillStyle = bullet.color;
                ctx.fillRect(bullet.x, bullet.y, bullet.width, bullet.height);

                if (bullet.y < 0) {
                    bullets.splice(index, 1);
                }
            });
        }

        function drawEnemies() {
            enemies.forEach((enemy, index) => {
                enemy.y += enemy.speed;
                enemy.x += enemy.direction * enemy.speed;

                if (enemy.x <= 0 || enemy.x + enemy.width >= canvas.width) {
                    enemy.direction *= -1; // Change direction on wall collision
                }

                ctx.fillStyle = enemy.color;
                ctx.fillRect(enemy.x, enemy.y, enemy.width, enemy.height);

                if (enemy.y > canvas.height) {
                    enemies.splice(index, 1);
                }

                bullets.forEach((bullet, bIndex) => {
                    if (
                        bullet.x < enemy.x + enemy.width &&
                        bullet.x + bullet.width > enemy.x &&
                        bullet.y < enemy.y + enemy.height &&
                        bullet.height + bullet.y > enemy.y
                    ) {
                        if (enemy.health) {
                            enemy.health -= 10; // Reduce health for tank and boss types
                            if (enemy.health <= 0) {
                                enemies.splice(index, 1);
                                score += 5;
                            }
                        } else {
                            enemies.splice(index, 1);
                            score++;
                        }
                        bullets.splice(bIndex, 1);
                        scoreDisplay.textContent = score;
                    }
                });

                if (
                    player.x < enemy.x + enemy.width &&
                    player.x + player.width > enemy.x &&
                    player.y < enemy.y + enemy.height &&
                    player.height + player.y > enemy.y
                ) {
                    let damage = enemy.damage;

                    if (player.shield
